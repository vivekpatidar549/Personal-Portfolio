{"version":3,"file":"static/js/607.38689d5b.chunk.js","mappings":"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","sources":["../node_modules/@tsparticles/engine/browser/Core/Canvas.js","../node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js","../node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js","../node_modules/@tsparticles/engine/browser/Core/Particle.js","../node_modules/@tsparticles/engine/browser/Core/Utils/Point.js","../node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js","../node_modules/@tsparticles/engine/browser/Core/Particles.js","../node_modules/@tsparticles/engine/browser/Core/Retina.js","../node_modules/@tsparticles/engine/browser/Core/Container.js"],"sourcesContent":["import { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase, paintImage } from \"../Utils/CanvasUtils.js\";\nimport { deepExtend, getLogger, safeMutationObserver } from \"../Utils/Utils.js\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils.js\";\nimport { generatedAttribute } from \"./Utils/Constants.js\";\nfunction setTransformValue(factor, newFactor, key) {\n    const newValue = newFactor[key], defaultValue = 1;\n    if (newValue !== undefined) {\n        factor[key] = (factor[key] ?? defaultValue) * newValue;\n    }\n}\nfunction setStyle(canvas, style, important = false) {\n    if (!style) {\n        return;\n    }\n    const element = canvas;\n    if (!element) {\n        return;\n    }\n    const elementStyle = element.style;\n    if (!elementStyle) {\n        return;\n    }\n    for (const key in style) {\n        const value = style[key];\n        if (!value) {\n            continue;\n        }\n        elementStyle.setProperty(key, value, important ? \"important\" : \"\");\n    }\n}\nexport class Canvas {\n    constructor(container) {\n        this.container = container;\n        this._applyPostDrawUpdaters = (particle) => {\n            for (const updater of this._postDrawUpdaters) {\n                updater.afterDraw?.(particle);\n            }\n        };\n        this._applyPreDrawUpdaters = (ctx, particle, radius, zOpacity, colorStyles, transform) => {\n            for (const updater of this._preDrawUpdaters) {\n                if (updater.getColorStyles) {\n                    const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                    if (fill) {\n                        colorStyles.fill = fill;\n                    }\n                    if (stroke) {\n                        colorStyles.stroke = stroke;\n                    }\n                }\n                if (updater.getTransformValues) {\n                    const updaterTransform = updater.getTransformValues(particle);\n                    for (const key in updaterTransform) {\n                        setTransformValue(transform, updaterTransform, key);\n                    }\n                }\n                updater.beforeDraw?.(particle);\n            }\n        };\n        this._applyResizePlugins = () => {\n            for (const plugin of this._resizePlugins) {\n                plugin.resize?.();\n            }\n        };\n        this._getPluginParticleColors = (particle) => {\n            let fColor, sColor;\n            for (const plugin of this._colorPlugins) {\n                if (!fColor && plugin.particleFillColor) {\n                    fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n                }\n                if (!sColor && plugin.particleStrokeColor) {\n                    sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n                }\n                if (fColor && sColor) {\n                    break;\n                }\n            }\n            return [fColor, sColor];\n        };\n        this._initCover = async () => {\n            const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color;\n            if (color) {\n                const coverRgb = rangeColorToRgb(color);\n                if (coverRgb) {\n                    const coverColor = {\n                        ...coverRgb,\n                        a: cover.opacity,\n                    };\n                    this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n                }\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    if (!cover.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", () => {\n                        this._coverImage = {\n                            image: img,\n                            opacity: cover.opacity,\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt) => {\n                        reject(evt.error);\n                    });\n                    img.src = cover.image;\n                });\n            }\n        };\n        this._initStyle = () => {\n            const element = this.element, options = this.container.actualOptions;\n            if (!element) {\n                return;\n            }\n            if (this._fullScreen) {\n                this._originalStyle = deepExtend({}, element.style);\n                this._setFullScreenStyle();\n            }\n            else {\n                this._resetOriginalStyle();\n            }\n            for (const key in options.style) {\n                if (!key || !options.style) {\n                    continue;\n                }\n                const value = options.style[key];\n                if (!value) {\n                    continue;\n                }\n                element.style.setProperty(key, value, \"important\");\n            }\n        };\n        this._initTrail = async () => {\n            const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = trail.fill;\n            if (!trail.enable) {\n                return;\n            }\n            const factorNumerator = 1, opacity = factorNumerator / trail.length;\n            if (trailFill.color) {\n                const fillColor = rangeColorToRgb(trailFill.color);\n                if (!fillColor) {\n                    return;\n                }\n                this._trailFill = {\n                    color: {\n                        ...fillColor,\n                    },\n                    opacity,\n                };\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    if (!trailFill.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", () => {\n                        this._trailFill = {\n                            image: img,\n                            opacity,\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt) => {\n                        reject(evt.error);\n                    });\n                    img.src = trailFill.image;\n                });\n            }\n        };\n        this._paintBase = (baseColor) => {\n            this.draw((ctx) => paintBase(ctx, this.size, baseColor));\n        };\n        this._paintImage = (image, opacity) => {\n            this.draw((ctx) => paintImage(ctx, this.size, image, opacity));\n        };\n        this._repairStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            this._safeMutationObserver((observer) => observer.disconnect());\n            this._initStyle();\n            this.initBackground();\n            this._safeMutationObserver((observer) => observer.observe(element, { attributes: true }));\n        };\n        this._resetOriginalStyle = () => {\n            const element = this.element, originalStyle = this._originalStyle;\n            if (!(element && originalStyle)) {\n                return;\n            }\n            setStyle(element, originalStyle);\n        };\n        this._safeMutationObserver = (callback) => {\n            if (!this._mutationObserver) {\n                return;\n            }\n            callback(this._mutationObserver);\n        };\n        this._setFullScreenStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            const radix = 10;\n            setStyle(element, {\n                position: \"fixed\",\n                zIndex: this.container.actualOptions.fullScreen.zIndex.toString(radix),\n                top: \"0\",\n                left: \"0\",\n                width: \"100%\",\n                height: \"100%\",\n            }, true);\n        };\n        this.size = {\n            height: 0,\n            width: 0,\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = this._trailFill, minimumLength = 0;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        }\n        else if (trail.enable && trail.length > minimumLength && trailFill) {\n            if (trailFill.color) {\n                this._paintBase(getStyleFromRgb(trailFill.color, trailFill.opacity));\n            }\n            else if (trailFill.image) {\n                this._paintImage(trailFill.image, trailFill.opacity);\n            }\n        }\n        else if (options.clear) {\n            this.draw((ctx) => {\n                clear(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this._generated) {\n            const element = this.element;\n            element?.remove();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return;\n        }\n        return cb(ctx);\n    }\n    drawAsync(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return undefined;\n        }\n        return cb(ctx);\n    }\n    drawParticle(particle, delta) {\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius(), minimumSize = 0;\n        if (radius <= minimumSize) {\n            return;\n        }\n        const pfColor = particle.getFillColor(), psColor = particle.getStrokeColor() ?? pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        this.draw((ctx) => {\n            const container = this.container, options = container.actualOptions, zIndexOptions = particle.options.zIndex, zIndexFactorOffset = 1, zIndexFactor = zIndexFactorOffset - particle.zIndexFactor, zOpacityFactor = zIndexFactor ** zIndexOptions.opacityRate, defaultOpacity = 1, opacity = particle.bubble.opacity ?? particle.opacity?.value ?? defaultOpacity, strokeOpacity = particle.strokeOpacity ?? opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined,\n            };\n            colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            drawParticle({\n                container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * zIndexFactor ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform,\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    drawParticlePlugin(plugin, particle, delta) {\n        this.draw((ctx) => drawParticlePlugin(ctx, plugin, particle, delta));\n    }\n    drawPlugin(plugin, delta) {\n        this.draw((ctx) => drawPlugin(ctx, plugin, delta));\n    }\n    async init() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = safeMutationObserver((records) => {\n            for (const record of records) {\n                if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                    this._repairStyle();\n                }\n            }\n        });\n        this.resize();\n        this._initStyle();\n        await this._initCover();\n        try {\n            await this._initTrail();\n        }\n        catch (e) {\n            getLogger().error(e);\n        }\n        this.initBackground();\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element;\n        if (!element) {\n            return;\n        }\n        const elementStyle = element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = rangeColorToRgb(background.color);\n            elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n        }\n        else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            if (plugin.particleFillColor ?? plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters) {\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            if (updater.getColorStyles ?? updater.getTransformValues ?? updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        if (this._generated && this.element) {\n            this.element.remove();\n        }\n        this._generated =\n            canvas.dataset && generatedAttribute in canvas.dataset\n                ? canvas.dataset[generatedAttribute] === \"true\"\n                : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = deepExtend({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx) => {\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                clear(ctx, this.size);\n                if (this._coverImage) {\n                    this._paintImage(this._coverImage.image, this._coverImage.opacity);\n                }\n                else if (this._coverColorStyle) {\n                    this._paintBase(this._coverColorStyle);\n                }\n                else {\n                    this._paintBase();\n                }\n            }\n            else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return false;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio,\n        };\n        if (newSize.height === size.height &&\n            newSize.width === size.width &&\n            newSize.height === this.element.height &&\n            newSize.width === this.element.width) {\n            return false;\n        }\n        const oldSize = { ...size };\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            container.particles.setResizeFactor({\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height,\n            });\n        }\n        return true;\n    }\n    stop() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = undefined;\n        this.draw((ctx) => clear(ctx, this.size));\n    }\n    async windowResize() {\n        if (!this.element || !this.resize()) {\n            return;\n        }\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n}\n","import { executeOnSingleOrMultiple, safeMatchMedia } from \"../../Utils/Utils.js\";\nimport { millisecondsToSeconds, mouseDownEvent, mouseLeaveEvent, mouseMoveEvent, mouseOutEvent, mouseUpEvent, resizeEvent, touchCancelEvent, touchEndEvent, touchMoveEvent, touchStartEvent, visibilityChangeEvent, } from \"./Constants.js\";\nimport { isBoolean } from \"../../Utils/TypeUtils.js\";\nconst double = 2;\nfunction manageListener(element, event, handler, add, options) {\n    if (add) {\n        let addOptions = { passive: true };\n        if (isBoolean(options)) {\n            addOptions.capture = options;\n        }\n        else if (options !== undefined) {\n            addOptions = options;\n        }\n        element.addEventListener(event, handler, addOptions);\n    }\n    else {\n        const removeOptions = options;\n        element.removeEventListener(event, handler, removeOptions);\n    }\n}\nexport class EventListeners {\n    constructor(container) {\n        this.container = container;\n        this._doMouseTouchClick = (e) => {\n            const container = this.container, options = container.actualOptions;\n            if (this._canPush) {\n                const mouseInteractivity = container.interactivity.mouse, mousePos = mouseInteractivity.position;\n                if (!mousePos) {\n                    return;\n                }\n                mouseInteractivity.clickPosition = { ...mousePos };\n                mouseInteractivity.clickTime = new Date().getTime();\n                const onClick = options.interactivity.events.onClick;\n                executeOnSingleOrMultiple(onClick.mode, (mode) => this.container.handleClickMode(mode));\n            }\n            if (e.type === \"touchend\") {\n                const touchDelay = 500;\n                setTimeout(() => this._mouseTouchFinish(), touchDelay);\n            }\n        };\n        this._handleThemeChange = (e) => {\n            const mediaEvent = e, container = this.container, options = container.options, defaultThemes = options.defaultThemes, themeName = mediaEvent.matches ? defaultThemes.dark : defaultThemes.light, theme = options.themes.find((theme) => theme.name === themeName);\n            if (theme && theme.default.auto) {\n                void container.loadTheme(themeName);\n            }\n        };\n        this._handleVisibilityChange = () => {\n            const container = this.container, options = container.actualOptions;\n            this._mouseTouchFinish();\n            if (!options.pauseOnBlur) {\n                return;\n            }\n            if (document && document.hidden) {\n                container.pageHidden = true;\n                container.pause();\n            }\n            else {\n                container.pageHidden = false;\n                if (container.animationStatus) {\n                    void container.play(true);\n                }\n                else {\n                    void container.draw(true);\n                }\n            }\n        };\n        this._handleWindowResize = () => {\n            if (this._resizeTimeout) {\n                clearTimeout(this._resizeTimeout);\n                delete this._resizeTimeout;\n            }\n            const handleResize = async () => {\n                const canvas = this.container.canvas;\n                await canvas?.windowResize();\n            };\n            this._resizeTimeout = setTimeout(() => void handleResize(), this.container.actualOptions.interactivity.events.resize.delay * millisecondsToSeconds);\n        };\n        this._manageInteractivityListeners = (mouseLeaveTmpEvent, add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            const interactivityEl = container.interactivity.element;\n            if (!interactivityEl) {\n                return;\n            }\n            const html = interactivityEl, canvasEl = container.canvas.element;\n            if (canvasEl) {\n                canvasEl.style.pointerEvents = html === canvasEl ? \"initial\" : \"none\";\n            }\n            if (!(options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable)) {\n                return;\n            }\n            manageListener(interactivityEl, mouseMoveEvent, handlers.mouseMove, add);\n            manageListener(interactivityEl, touchStartEvent, handlers.touchStart, add);\n            manageListener(interactivityEl, touchMoveEvent, handlers.touchMove, add);\n            if (!options.interactivity.events.onClick.enable) {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEnd, add);\n            }\n            else {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEndClick, add);\n                manageListener(interactivityEl, mouseUpEvent, handlers.mouseUp, add);\n                manageListener(interactivityEl, mouseDownEvent, handlers.mouseDown, add);\n            }\n            manageListener(interactivityEl, mouseLeaveTmpEvent, handlers.mouseLeave, add);\n            manageListener(interactivityEl, touchCancelEvent, handlers.touchCancel, add);\n        };\n        this._manageListeners = (add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions, detectType = options.interactivity.detectsOn, canvasEl = container.canvas.element;\n            let mouseLeaveTmpEvent = mouseLeaveEvent;\n            if (detectType === \"window\") {\n                container.interactivity.element = window;\n                mouseLeaveTmpEvent = mouseOutEvent;\n            }\n            else if (detectType === \"parent\" && canvasEl) {\n                container.interactivity.element = canvasEl.parentElement ?? canvasEl.parentNode;\n            }\n            else {\n                container.interactivity.element = canvasEl;\n            }\n            this._manageMediaMatch(add);\n            this._manageResize(add);\n            this._manageInteractivityListeners(mouseLeaveTmpEvent, add);\n            if (document) {\n                manageListener(document, visibilityChangeEvent, handlers.visibilityChange, add, false);\n            }\n        };\n        this._manageMediaMatch = (add) => {\n            const handlers = this._handlers, mediaMatch = safeMatchMedia(\"(prefers-color-scheme: dark)\");\n            if (!mediaMatch) {\n                return;\n            }\n            if (mediaMatch.addEventListener !== undefined) {\n                manageListener(mediaMatch, \"change\", handlers.themeChange, add);\n                return;\n            }\n            if (mediaMatch.addListener === undefined) {\n                return;\n            }\n            if (add) {\n                mediaMatch.addListener(handlers.oldThemeChange);\n            }\n            else {\n                mediaMatch.removeListener(handlers.oldThemeChange);\n            }\n        };\n        this._manageResize = (add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            if (!options.interactivity.events.resize) {\n                return;\n            }\n            if (typeof ResizeObserver === \"undefined\") {\n                manageListener(window, resizeEvent, handlers.resize, add);\n                return;\n            }\n            const canvasEl = container.canvas.element;\n            if (this._resizeObserver && !add) {\n                if (canvasEl) {\n                    this._resizeObserver.unobserve(canvasEl);\n                }\n                this._resizeObserver.disconnect();\n                delete this._resizeObserver;\n            }\n            else if (!this._resizeObserver && add && canvasEl) {\n                this._resizeObserver = new ResizeObserver((entries) => {\n                    const entry = entries.find((e) => e.target === canvasEl);\n                    if (!entry) {\n                        return;\n                    }\n                    this._handleWindowResize();\n                });\n                this._resizeObserver.observe(canvasEl);\n            }\n        };\n        this._mouseDown = () => {\n            const { interactivity } = this.container;\n            if (!interactivity) {\n                return;\n            }\n            const { mouse } = interactivity;\n            mouse.clicking = true;\n            mouse.downPosition = mouse.position;\n        };\n        this._mouseTouchClick = (e) => {\n            const container = this.container, options = container.actualOptions, { mouse } = container.interactivity;\n            mouse.inside = true;\n            let handled = false;\n            const mousePosition = mouse.position;\n            if (!mousePosition || !options.interactivity.events.onClick.enable) {\n                return;\n            }\n            for (const [, plugin] of container.plugins) {\n                if (!plugin.clickPositionValid) {\n                    continue;\n                }\n                handled = plugin.clickPositionValid(mousePosition);\n                if (handled) {\n                    break;\n                }\n            }\n            if (!handled) {\n                this._doMouseTouchClick(e);\n            }\n            mouse.clicking = false;\n        };\n        this._mouseTouchFinish = () => {\n            const interactivity = this.container.interactivity;\n            if (!interactivity) {\n                return;\n            }\n            const mouse = interactivity.mouse;\n            delete mouse.position;\n            delete mouse.clickPosition;\n            delete mouse.downPosition;\n            interactivity.status = mouseLeaveEvent;\n            mouse.inside = false;\n            mouse.clicking = false;\n        };\n        this._mouseTouchMove = (e) => {\n            const container = this.container, options = container.actualOptions, interactivity = container.interactivity, canvasEl = container.canvas.element;\n            if (!interactivity?.element) {\n                return;\n            }\n            interactivity.mouse.inside = true;\n            let pos;\n            if (e.type.startsWith(\"pointer\")) {\n                this._canPush = true;\n                const mouseEvent = e;\n                if (interactivity.element === window) {\n                    if (canvasEl) {\n                        const clientRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.clientX - clientRect.left,\n                            y: mouseEvent.clientY - clientRect.top,\n                        };\n                    }\n                }\n                else if (options.interactivity.detectsOn === \"parent\") {\n                    const source = mouseEvent.target, target = mouseEvent.currentTarget;\n                    if (source && target && canvasEl) {\n                        const sourceRect = source.getBoundingClientRect(), targetRect = target.getBoundingClientRect(), canvasRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.offsetX + double * sourceRect.left - (targetRect.left + canvasRect.left),\n                            y: mouseEvent.offsetY + double * sourceRect.top - (targetRect.top + canvasRect.top),\n                        };\n                    }\n                    else {\n                        pos = {\n                            x: mouseEvent.offsetX ?? mouseEvent.clientX,\n                            y: mouseEvent.offsetY ?? mouseEvent.clientY,\n                        };\n                    }\n                }\n                else if (mouseEvent.target === canvasEl) {\n                    pos = {\n                        x: mouseEvent.offsetX ?? mouseEvent.clientX,\n                        y: mouseEvent.offsetY ?? mouseEvent.clientY,\n                    };\n                }\n            }\n            else {\n                this._canPush = e.type !== \"touchmove\";\n                if (canvasEl) {\n                    const touchEvent = e, lengthOffset = 1, lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset], canvasRect = canvasEl.getBoundingClientRect(), defaultCoordinate = 0;\n                    pos = {\n                        x: lastTouch.clientX - (canvasRect.left ?? defaultCoordinate),\n                        y: lastTouch.clientY - (canvasRect.top ?? defaultCoordinate),\n                    };\n                }\n            }\n            const pxRatio = container.retina.pixelRatio;\n            if (pos) {\n                pos.x *= pxRatio;\n                pos.y *= pxRatio;\n            }\n            interactivity.mouse.position = pos;\n            interactivity.status = mouseMoveEvent;\n        };\n        this._touchEnd = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchFinish();\n        };\n        this._touchEndClick = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchClick(e);\n        };\n        this._touchStart = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.set(touch.identifier, performance.now());\n            }\n            this._mouseTouchMove(e);\n        };\n        this._canPush = true;\n        this._touches = new Map();\n        this._handlers = {\n            mouseDown: () => this._mouseDown(),\n            mouseLeave: () => this._mouseTouchFinish(),\n            mouseMove: (e) => this._mouseTouchMove(e),\n            mouseUp: (e) => this._mouseTouchClick(e),\n            touchStart: (e) => this._touchStart(e),\n            touchMove: (e) => this._mouseTouchMove(e),\n            touchEnd: (e) => this._touchEnd(e),\n            touchCancel: (e) => this._touchEnd(e),\n            touchEndClick: (e) => this._touchEndClick(e),\n            visibilityChange: () => this._handleVisibilityChange(),\n            themeChange: (e) => this._handleThemeChange(e),\n            oldThemeChange: (e) => this._handleThemeChange(e),\n            resize: () => {\n                this._handleWindowResize();\n            },\n        };\n    }\n    addListeners() {\n        this._manageListeners(true);\n    }\n    removeListeners() {\n        this._manageListeners(false);\n    }\n}\n","export class InteractionManager {\n    constructor(engine, container) {\n        this.container = container;\n        this._engine = engine;\n        this._interactors = [];\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n    }\n    externalInteract(delta) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                interactor.interact(delta);\n            }\n        }\n    }\n    handleClickMode(mode) {\n        for (const interactor of this._externalInteractors) {\n            interactor.handleClickMode?.(mode);\n        }\n    }\n    async init() {\n        this._interactors = await this._engine.getInteractors(this.container, true);\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n        for (const interactor of this._interactors) {\n            switch (interactor.type) {\n                case \"external\":\n                    this._externalInteractors.push(interactor);\n                    break;\n                case \"particles\":\n                    this._particleInteractors.push(interactor);\n                    break;\n            }\n            interactor.init();\n        }\n    }\n    particlesInteract(particle, delta) {\n        for (const interactor of this._externalInteractors) {\n            interactor.clear(particle, delta);\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                interactor.interact(particle, delta);\n            }\n        }\n    }\n    reset(particle) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                interactor.reset(particle);\n            }\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                interactor.reset(particle);\n            }\n        }\n    }\n}\n","import { Vector, Vector3d } from \"./Utils/Vectors.js\";\nimport { calcExactPositionOrRandomFromSize, clamp, degToRad, getDistance, getParticleBaseVelocity, getParticleDirectionAngle, getRandom, getRangeValue, randomInRange, setRangeValue, } from \"../Utils/NumberUtils.js\";\nimport { deepExtend, getPosition, initParticleNumericAnimationValue, isInArray, itemFromSingleOrMultiple, } from \"../Utils/Utils.js\";\nimport { errorPrefix, millisecondsToSeconds } from \"./Utils/Constants.js\";\nimport { getHslFromAnimation, rangeColorToRgb } from \"../Utils/ColorUtils.js\";\nimport { Interactivity } from \"../Options/Classes/Interactivity/Interactivity.js\";\nimport { alterHsl } from \"../Utils/CanvasUtils.js\";\nimport { loadParticlesOptions } from \"../Utils/OptionsUtils.js\";\nconst defaultRetryCount = 0, double = 2, half = 0.5, squareExp = 2;\nfunction loadEffectData(effect, effectOptions, id, reduceDuplicates) {\n    const effectData = effectOptions.options[effect];\n    if (!effectData) {\n        return;\n    }\n    return deepExtend({\n        close: effectOptions.close,\n        fill: effectOptions.fill,\n    }, itemFromSingleOrMultiple(effectData, id, reduceDuplicates));\n}\nfunction loadShapeData(shape, shapeOptions, id, reduceDuplicates) {\n    const shapeData = shapeOptions.options[shape];\n    if (!shapeData) {\n        return;\n    }\n    return deepExtend({\n        close: shapeOptions.close,\n        fill: shapeOptions.fill,\n    }, itemFromSingleOrMultiple(shapeData, id, reduceDuplicates));\n}\nfunction fixOutMode(data) {\n    if (!isInArray(data.outMode, data.checkModes)) {\n        return;\n    }\n    const diameter = data.radius * double;\n    if (data.coord > data.maxCoord - diameter) {\n        data.setCb(-data.radius);\n    }\n    else if (data.coord < diameter) {\n        data.setCb(data.radius);\n    }\n}\nexport class Particle {\n    constructor(engine, container) {\n        this.container = container;\n        this._calcPosition = (container, position, zIndex, tryCount = defaultRetryCount) => {\n            for (const [, plugin] of container.plugins) {\n                const pluginPos = plugin.particlePosition !== undefined ? plugin.particlePosition(position, this) : undefined;\n                if (pluginPos) {\n                    return Vector3d.create(pluginPos.x, pluginPos.y, zIndex);\n                }\n            }\n            const canvasSize = container.canvas.size, exactPosition = calcExactPositionOrRandomFromSize({\n                size: canvasSize,\n                position: position,\n            }), pos = Vector3d.create(exactPosition.x, exactPosition.y, zIndex), radius = this.getRadius(), outModes = this.options.move.outModes, fixHorizontal = (outMode) => {\n                fixOutMode({\n                    outMode,\n                    checkModes: [\"bounce\"],\n                    coord: pos.x,\n                    maxCoord: container.canvas.size.width,\n                    setCb: (value) => (pos.x += value),\n                    radius,\n                });\n            }, fixVertical = (outMode) => {\n                fixOutMode({\n                    outMode,\n                    checkModes: [\"bounce\"],\n                    coord: pos.y,\n                    maxCoord: container.canvas.size.height,\n                    setCb: (value) => (pos.y += value),\n                    radius,\n                });\n            };\n            fixHorizontal(outModes.left ?? outModes.default);\n            fixHorizontal(outModes.right ?? outModes.default);\n            fixVertical(outModes.top ?? outModes.default);\n            fixVertical(outModes.bottom ?? outModes.default);\n            if (this._checkOverlap(pos, tryCount)) {\n                const increment = 1;\n                return this._calcPosition(container, undefined, zIndex, tryCount + increment);\n            }\n            return pos;\n        };\n        this._calculateVelocity = () => {\n            const baseVelocity = getParticleBaseVelocity(this.direction), res = baseVelocity.copy(), moveOptions = this.options.move;\n            if (moveOptions.direction === \"inside\" || moveOptions.direction === \"outside\") {\n                return res;\n            }\n            const rad = degToRad(getRangeValue(moveOptions.angle.value)), radOffset = degToRad(getRangeValue(moveOptions.angle.offset)), range = {\n                left: radOffset - rad * half,\n                right: radOffset + rad * half,\n            };\n            if (!moveOptions.straight) {\n                res.angle += randomInRange(setRangeValue(range.left, range.right));\n            }\n            if (moveOptions.random && typeof moveOptions.speed === \"number\") {\n                res.length *= getRandom();\n            }\n            return res;\n        };\n        this._checkOverlap = (pos, tryCount = defaultRetryCount) => {\n            const collisionsOptions = this.options.collisions, radius = this.getRadius();\n            if (!collisionsOptions.enable) {\n                return false;\n            }\n            const overlapOptions = collisionsOptions.overlap;\n            if (overlapOptions.enable) {\n                return false;\n            }\n            const retries = overlapOptions.retries, minRetries = 0;\n            if (retries >= minRetries && tryCount > retries) {\n                throw new Error(`${errorPrefix} particle is overlapping and can't be placed`);\n            }\n            return !!this.container.particles.find((particle) => getDistance(pos, particle.position) < radius + particle.getRadius());\n        };\n        this._getRollColor = (color) => {\n            if (!color || !this.roll || (!this.backColor && !this.roll.alter)) {\n                return color;\n            }\n            const rollFactor = 1, none = 0, backFactor = this.roll.horizontal && this.roll.vertical ? double * rollFactor : rollFactor, backSum = this.roll.horizontal ? Math.PI * half : none, rolled = Math.floor(((this.roll.angle ?? none) + backSum) / (Math.PI / backFactor)) % double;\n            if (!rolled) {\n                return color;\n            }\n            if (this.backColor) {\n                return this.backColor;\n            }\n            if (this.roll.alter) {\n                return alterHsl(color, this.roll.alter.type, this.roll.alter.value);\n            }\n            return color;\n        };\n        this._initPosition = (position) => {\n            const container = this.container, zIndexValue = getRangeValue(this.options.zIndex.value), minZ = 0;\n            this.position = this._calcPosition(container, position, clamp(zIndexValue, minZ, container.zLayers));\n            this.initialPosition = this.position.copy();\n            const canvasSize = container.canvas.size, defaultRadius = 0;\n            this.moveCenter = {\n                ...getPosition(this.options.move.center, canvasSize),\n                radius: this.options.move.center.radius ?? defaultRadius,\n                mode: this.options.move.center.mode ?? \"percent\",\n            };\n            this.direction = getParticleDirectionAngle(this.options.move.direction, this.position, this.moveCenter);\n            switch (this.options.move.direction) {\n                case \"inside\":\n                    this.outType = \"inside\";\n                    break;\n                case \"outside\":\n                    this.outType = \"outside\";\n                    break;\n            }\n            this.offset = Vector.origin;\n        };\n        this._engine = engine;\n    }\n    destroy(override) {\n        if (this.unbreakable || this.destroyed) {\n            return;\n        }\n        this.destroyed = true;\n        this.bubble.inRange = false;\n        this.slow.inRange = false;\n        const container = this.container, pathGenerator = this.pathGenerator, shapeDrawer = container.shapeDrawers.get(this.shape);\n        shapeDrawer?.particleDestroy?.(this);\n        for (const [, plugin] of container.plugins) {\n            plugin.particleDestroyed?.(this, override);\n        }\n        for (const updater of container.particles.updaters) {\n            updater.particleDestroyed?.(this, override);\n        }\n        pathGenerator?.reset(this);\n        this._engine.dispatchEvent(\"particleDestroyed\", {\n            container: this.container,\n            data: {\n                particle: this,\n            },\n        });\n    }\n    draw(delta) {\n        const container = this.container, canvas = container.canvas;\n        for (const [, plugin] of container.plugins) {\n            canvas.drawParticlePlugin(plugin, this, delta);\n        }\n        canvas.drawParticle(this, delta);\n    }\n    getFillColor() {\n        return this._getRollColor(this.bubble.color ?? getHslFromAnimation(this.color));\n    }\n    getMass() {\n        return this.getRadius() ** squareExp * Math.PI * half;\n    }\n    getPosition() {\n        return {\n            x: this.position.x + this.offset.x,\n            y: this.position.y + this.offset.y,\n            z: this.position.z,\n        };\n    }\n    getRadius() {\n        return this.bubble.radius ?? this.size.value;\n    }\n    getStrokeColor() {\n        return this._getRollColor(this.bubble.color ?? getHslFromAnimation(this.strokeColor));\n    }\n    init(id, position, overrideOptions, group) {\n        const container = this.container, engine = this._engine;\n        this.id = id;\n        this.group = group;\n        this.effectClose = true;\n        this.effectFill = true;\n        this.shapeClose = true;\n        this.shapeFill = true;\n        this.pathRotation = false;\n        this.lastPathTime = 0;\n        this.destroyed = false;\n        this.unbreakable = false;\n        this.rotation = 0;\n        this.misplaced = false;\n        this.retina = {\n            maxDistance: {},\n        };\n        this.outType = \"normal\";\n        this.ignoresResizeRatio = true;\n        const pxRatio = container.retina.pixelRatio, mainOptions = container.actualOptions, particlesOptions = loadParticlesOptions(this._engine, container, mainOptions.particles), effectType = particlesOptions.effect.type, shapeType = particlesOptions.shape.type, { reduceDuplicates } = particlesOptions;\n        this.effect = itemFromSingleOrMultiple(effectType, this.id, reduceDuplicates);\n        this.shape = itemFromSingleOrMultiple(shapeType, this.id, reduceDuplicates);\n        const effectOptions = particlesOptions.effect, shapeOptions = particlesOptions.shape;\n        if (overrideOptions) {\n            if (overrideOptions.effect?.type) {\n                const overrideEffectType = overrideOptions.effect.type, effect = itemFromSingleOrMultiple(overrideEffectType, this.id, reduceDuplicates);\n                if (effect) {\n                    this.effect = effect;\n                    effectOptions.load(overrideOptions.effect);\n                }\n            }\n            if (overrideOptions.shape?.type) {\n                const overrideShapeType = overrideOptions.shape.type, shape = itemFromSingleOrMultiple(overrideShapeType, this.id, reduceDuplicates);\n                if (shape) {\n                    this.shape = shape;\n                    shapeOptions.load(overrideOptions.shape);\n                }\n            }\n        }\n        this.effectData = loadEffectData(this.effect, effectOptions, this.id, reduceDuplicates);\n        this.shapeData = loadShapeData(this.shape, shapeOptions, this.id, reduceDuplicates);\n        particlesOptions.load(overrideOptions);\n        const effectData = this.effectData;\n        if (effectData) {\n            particlesOptions.load(effectData.particles);\n        }\n        const shapeData = this.shapeData;\n        if (shapeData) {\n            particlesOptions.load(shapeData.particles);\n        }\n        const interactivity = new Interactivity(engine, container);\n        interactivity.load(container.actualOptions.interactivity);\n        interactivity.load(particlesOptions.interactivity);\n        this.interactivity = interactivity;\n        this.effectFill = effectData?.fill ?? particlesOptions.effect.fill;\n        this.effectClose = effectData?.close ?? particlesOptions.effect.close;\n        this.shapeFill = shapeData?.fill ?? particlesOptions.shape.fill;\n        this.shapeClose = shapeData?.close ?? particlesOptions.shape.close;\n        this.options = particlesOptions;\n        const pathOptions = this.options.move.path;\n        this.pathDelay = getRangeValue(pathOptions.delay.value) * millisecondsToSeconds;\n        if (pathOptions.generator) {\n            this.pathGenerator = this._engine.getPathGenerator(pathOptions.generator);\n            if (this.pathGenerator && container.addPath(pathOptions.generator, this.pathGenerator)) {\n                this.pathGenerator.init(container);\n            }\n        }\n        container.retina.initParticle(this);\n        this.size = initParticleNumericAnimationValue(this.options.size, pxRatio);\n        this.bubble = {\n            inRange: false,\n        };\n        this.slow = {\n            inRange: false,\n            factor: 1,\n        };\n        this._initPosition(position);\n        this.initialVelocity = this._calculateVelocity();\n        this.velocity = this.initialVelocity.copy();\n        const decayOffset = 1;\n        this.moveDecay = decayOffset - getRangeValue(this.options.move.decay);\n        const particles = container.particles;\n        particles.setLastZIndex(this.position.z);\n        this.zIndexFactor = this.position.z / container.zLayers;\n        this.sides = 24;\n        let effectDrawer = container.effectDrawers.get(this.effect);\n        if (!effectDrawer) {\n            effectDrawer = this._engine.getEffectDrawer(this.effect);\n            if (effectDrawer) {\n                container.effectDrawers.set(this.effect, effectDrawer);\n            }\n        }\n        if (effectDrawer?.loadEffect) {\n            effectDrawer.loadEffect(this);\n        }\n        let shapeDrawer = container.shapeDrawers.get(this.shape);\n        if (!shapeDrawer) {\n            shapeDrawer = this._engine.getShapeDrawer(this.shape);\n            if (shapeDrawer) {\n                container.shapeDrawers.set(this.shape, shapeDrawer);\n            }\n        }\n        if (shapeDrawer?.loadShape) {\n            shapeDrawer.loadShape(this);\n        }\n        const sideCountFunc = shapeDrawer?.getSidesCount;\n        if (sideCountFunc) {\n            this.sides = sideCountFunc(this);\n        }\n        this.spawning = false;\n        this.shadowColor = rangeColorToRgb(this.options.shadow.color);\n        for (const updater of particles.updaters) {\n            updater.init(this);\n        }\n        for (const mover of particles.movers) {\n            mover.init?.(this);\n        }\n        effectDrawer?.particleInit?.(container, this);\n        shapeDrawer?.particleInit?.(container, this);\n        for (const [, plugin] of container.plugins) {\n            plugin.particleCreated?.(this);\n        }\n    }\n    isInsideCanvas() {\n        const radius = this.getRadius(), canvasSize = this.container.canvas.size, position = this.position;\n        return (position.x >= -radius &&\n            position.y >= -radius &&\n            position.y <= canvasSize.height + radius &&\n            position.x <= canvasSize.width + radius);\n    }\n    isVisible() {\n        return !this.destroyed && !this.spawning && this.isInsideCanvas();\n    }\n    reset() {\n        for (const updater of this.container.particles.updaters) {\n            updater.reset?.(this);\n        }\n    }\n}\n","export class Point {\n    constructor(position, particle) {\n        this.position = position;\n        this.particle = particle;\n    }\n}\n","import { Circle, Rectangle } from \"./Ranges.js\";\nimport { getDistance } from \"../../Utils/NumberUtils.js\";\nconst half = 0.5, double = 2, subdivideCount = 4;\nexport class QuadTree {\n    constructor(rectangle, capacity) {\n        this.rectangle = rectangle;\n        this.capacity = capacity;\n        this._subdivide = () => {\n            const { x, y } = this.rectangle.position, { width, height } = this.rectangle.size, { capacity } = this;\n            for (let i = 0; i < subdivideCount; i++) {\n                const fixedIndex = i % double;\n                this._subs.push(new QuadTree(new Rectangle(x + width * half * fixedIndex, y + height * half * (Math.round(i * half) - fixedIndex), width * half, height * half), capacity));\n            }\n            this._divided = true;\n        };\n        this._points = [];\n        this._divided = false;\n        this._subs = [];\n    }\n    insert(point) {\n        if (!this.rectangle.contains(point.position)) {\n            return false;\n        }\n        if (this._points.length < this.capacity) {\n            this._points.push(point);\n            return true;\n        }\n        if (!this._divided) {\n            this._subdivide();\n        }\n        return this._subs.some((sub) => sub.insert(point));\n    }\n    query(range, check) {\n        const res = [];\n        if (!range.intersects(this.rectangle)) {\n            return [];\n        }\n        for (const p of this._points) {\n            if (!range.contains(p.position) &&\n                getDistance(range.position, p.position) > p.particle.getRadius() &&\n                (!check || check(p.particle))) {\n                continue;\n            }\n            res.push(p.particle);\n        }\n        if (this._divided) {\n            for (const sub of this._subs) {\n                res.push(...sub.query(range, check));\n            }\n        }\n        return res;\n    }\n    queryCircle(position, radius, check) {\n        return this.query(new Circle(position.x, position.y, radius), check);\n    }\n    queryRectangle(position, size, check) {\n        return this.query(new Rectangle(position.x, position.y, size.width, size.height), check);\n    }\n}\n","import { getLogger, getPosition } from \"../Utils/Utils.js\";\nimport { InteractionManager } from \"./Utils/InteractionManager.js\";\nimport { Particle } from \"./Particle.js\";\nimport { Point } from \"./Utils/Point.js\";\nimport { QuadTree } from \"./Utils/QuadTree.js\";\nimport { Rectangle } from \"./Utils/Ranges.js\";\nimport { errorPrefix } from \"./Utils/Constants.js\";\nconst qTreeCapacity = 4, squareExp = 2, defaultRemoveQuantity = 1;\nconst qTreeRectangle = (canvasSize) => {\n    const { height, width } = canvasSize, posOffset = -0.25, sizeFactor = 1.5;\n    return new Rectangle(posOffset * width, posOffset * height, sizeFactor * width, sizeFactor * height);\n};\nexport class Particles {\n    constructor(engine, container) {\n        this._addToPool = (...particles) => {\n            for (const particle of particles) {\n                this._pool.push(particle);\n            }\n        };\n        this._applyDensity = (options, manualCount, group) => {\n            const numberOptions = options.number;\n            if (!options.number.density?.enable) {\n                if (group === undefined) {\n                    this._limit = numberOptions.limit.value;\n                }\n                else if (numberOptions.limit) {\n                    this._groupLimits.set(group, numberOptions.limit.value);\n                }\n                return;\n            }\n            const densityFactor = this._initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, minLimit = 0, optParticlesLimit = numberOptions.limit.value > minLimit ? numberOptions.limit.value : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.filter((t) => t.group === group).length);\n            if (group === undefined) {\n                this._limit = numberOptions.limit.value * densityFactor;\n            }\n            else {\n                this._groupLimits.set(group, numberOptions.limit.value * densityFactor);\n            }\n            if (particlesCount < particlesNumber) {\n                this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n            }\n            else if (particlesCount > particlesNumber) {\n                this.removeQuantity(particlesCount - particlesNumber, group);\n            }\n        };\n        this._initDensityFactor = (densityOptions) => {\n            const container = this._container, defaultFactor = 1;\n            if (!container.canvas.element || !densityOptions.enable) {\n                return defaultFactor;\n            }\n            const canvas = container.canvas.element, pxRatio = container.retina.pixelRatio;\n            return (canvas.width * canvas.height) / (densityOptions.height * densityOptions.width * pxRatio ** squareExp);\n        };\n        this._pushParticle = (position, overrideOptions, group, initializer) => {\n            try {\n                let particle = this._pool.pop();\n                if (!particle) {\n                    particle = new Particle(this._engine, this._container);\n                }\n                particle.init(this._nextId, position, overrideOptions, group);\n                let canAdd = true;\n                if (initializer) {\n                    canAdd = initializer(particle);\n                }\n                if (!canAdd) {\n                    return;\n                }\n                this._array.push(particle);\n                this._zArray.push(particle);\n                this._nextId++;\n                this._engine.dispatchEvent(\"particleAdded\", {\n                    container: this._container,\n                    data: {\n                        particle,\n                    },\n                });\n                return particle;\n            }\n            catch (e) {\n                getLogger().warning(`${errorPrefix} adding particle: ${e}`);\n            }\n        };\n        this._removeParticle = (index, group, override) => {\n            const particle = this._array[index];\n            if (!particle || particle.group !== group) {\n                return false;\n            }\n            const zIdx = this._zArray.indexOf(particle), deleteCount = 1;\n            this._array.splice(index, deleteCount);\n            this._zArray.splice(zIdx, deleteCount);\n            particle.destroy(override);\n            this._engine.dispatchEvent(\"particleRemoved\", {\n                container: this._container,\n                data: {\n                    particle,\n                },\n            });\n            this._addToPool(particle);\n            return true;\n        };\n        this._engine = engine;\n        this._container = container;\n        this._nextId = 0;\n        this._array = [];\n        this._zArray = [];\n        this._pool = [];\n        this._limit = 0;\n        this._groupLimits = new Map();\n        this._needsSort = false;\n        this._lastZIndex = 0;\n        this._interactionManager = new InteractionManager(engine, container);\n        this._pluginsInitialized = false;\n        const canvasSize = container.canvas.size;\n        this.quadTree = new QuadTree(qTreeRectangle(canvasSize), qTreeCapacity);\n        this.movers = [];\n        this.updaters = [];\n    }\n    get count() {\n        return this._array.length;\n    }\n    addManualParticles() {\n        const container = this._container, options = container.actualOptions;\n        for (const particle of options.manualParticles) {\n            this.addParticle(particle.position ? getPosition(particle.position, container.canvas.size) : undefined, particle.options);\n        }\n    }\n    addParticle(position, overrideOptions, group, initializer) {\n        const limitOptions = this._container.actualOptions.particles.number.limit, limit = group === undefined ? this._limit : this._groupLimits.get(group) ?? this._limit, currentCount = this.count, minLimit = 0;\n        if (limit > minLimit) {\n            if (limitOptions.mode === \"delete\") {\n                const countOffset = 1, minCount = 0, countToRemove = currentCount + countOffset - limit;\n                if (countToRemove > minCount) {\n                    this.removeQuantity(countToRemove);\n                }\n            }\n            else if (limitOptions.mode === \"wait\") {\n                if (currentCount >= limit) {\n                    return;\n                }\n            }\n        }\n        return this._pushParticle(position, overrideOptions, group, initializer);\n    }\n    clear() {\n        this._array = [];\n        this._zArray = [];\n        this._pluginsInitialized = false;\n    }\n    destroy() {\n        this._array = [];\n        this._zArray = [];\n        this.movers = [];\n        this.updaters = [];\n    }\n    draw(delta) {\n        const container = this._container, canvas = container.canvas;\n        canvas.clear();\n        this.update(delta);\n        for (const [, plugin] of container.plugins) {\n            canvas.drawPlugin(plugin, delta);\n        }\n        for (const p of this._zArray) {\n            p.draw(delta);\n        }\n    }\n    filter(condition) {\n        return this._array.filter(condition);\n    }\n    find(condition) {\n        return this._array.find(condition);\n    }\n    get(index) {\n        return this._array[index];\n    }\n    handleClickMode(mode) {\n        this._interactionManager.handleClickMode(mode);\n    }\n    async init() {\n        const container = this._container, options = container.actualOptions;\n        this._lastZIndex = 0;\n        this._needsSort = false;\n        await this.initPlugins();\n        let handled = false;\n        for (const [, plugin] of container.plugins) {\n            if (plugin.particlesInitialization !== undefined) {\n                handled = plugin.particlesInitialization();\n            }\n            if (handled) {\n                break;\n            }\n        }\n        this.addManualParticles();\n        if (!handled) {\n            const particlesOptions = options.particles, groups = particlesOptions.groups;\n            for (const group in groups) {\n                const groupOptions = groups[group];\n                for (let i = this.count, j = 0; j < groupOptions.number?.value && i < particlesOptions.number.value; i++, j++) {\n                    this.addParticle(undefined, groupOptions, group);\n                }\n            }\n            for (let i = this.count; i < particlesOptions.number.value; i++) {\n                this.addParticle();\n            }\n        }\n    }\n    async initPlugins() {\n        if (this._pluginsInitialized) {\n            return;\n        }\n        const container = this._container;\n        this.movers = await this._engine.getMovers(container, true);\n        this.updaters = await this._engine.getUpdaters(container, true);\n        await this._interactionManager.init();\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.init(container);\n        }\n    }\n    push(nb, mouse, overrideOptions, group) {\n        for (let i = 0; i < nb; i++) {\n            this.addParticle(mouse?.position, overrideOptions, group);\n        }\n    }\n    async redraw() {\n        this.clear();\n        await this.init();\n        this.draw({ value: 0, factor: 0 });\n    }\n    remove(particle, group, override) {\n        this.removeAt(this._array.indexOf(particle), undefined, group, override);\n    }\n    removeAt(index, quantity = defaultRemoveQuantity, group, override) {\n        const minIndex = 0;\n        if (index < minIndex || index > this.count) {\n            return;\n        }\n        let deleted = 0;\n        for (let i = index; deleted < quantity && i < this.count; i++) {\n            if (this._removeParticle(i--, group, override)) {\n                deleted++;\n            }\n        }\n    }\n    removeQuantity(quantity, group) {\n        const defaultIndex = 0;\n        this.removeAt(defaultIndex, quantity, group);\n    }\n    setDensity() {\n        const options = this._container.actualOptions, groups = options.particles.groups, manualCount = 0;\n        for (const group in groups) {\n            this._applyDensity(groups[group], manualCount, group);\n        }\n        this._applyDensity(options.particles, options.manualParticles.length);\n    }\n    setLastZIndex(zIndex) {\n        this._lastZIndex = zIndex;\n        this._needsSort = this._needsSort || this._lastZIndex < zIndex;\n    }\n    setResizeFactor(factor) {\n        this._resizeFactor = factor;\n    }\n    update(delta) {\n        const container = this._container, particlesToDelete = new Set();\n        this.quadTree = new QuadTree(qTreeRectangle(container.canvas.size), qTreeCapacity);\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.update();\n        }\n        for (const [, plugin] of container.plugins) {\n            plugin.update?.(delta);\n        }\n        const resizeFactor = this._resizeFactor;\n        for (const particle of this._array) {\n            if (resizeFactor && !particle.ignoresResizeRatio) {\n                particle.position.x *= resizeFactor.width;\n                particle.position.y *= resizeFactor.height;\n                particle.initialPosition.x *= resizeFactor.width;\n                particle.initialPosition.y *= resizeFactor.height;\n            }\n            particle.ignoresResizeRatio = false;\n            this._interactionManager.reset(particle);\n            for (const [, plugin] of this._container.plugins) {\n                if (particle.destroyed) {\n                    break;\n                }\n                plugin.particleUpdate?.(particle, delta);\n            }\n            for (const mover of this.movers) {\n                if (mover.isEnabled(particle)) {\n                    mover.move(particle, delta);\n                }\n            }\n            if (particle.destroyed) {\n                particlesToDelete.add(particle);\n                continue;\n            }\n            this.quadTree.insert(new Point(particle.getPosition(), particle));\n        }\n        if (particlesToDelete.size) {\n            const checkDelete = (p) => !particlesToDelete.has(p);\n            this._array = this.filter(checkDelete);\n            this._zArray = this._zArray.filter(checkDelete);\n            for (const particle of particlesToDelete) {\n                this._engine.dispatchEvent(\"particleRemoved\", {\n                    container: this._container,\n                    data: {\n                        particle,\n                    },\n                });\n            }\n            this._addToPool(...particlesToDelete);\n        }\n        this._interactionManager.externalInteract(delta);\n        for (const particle of this._array) {\n            for (const updater of this.updaters) {\n                updater.update(particle, delta);\n            }\n            if (!particle.destroyed && !particle.spawning) {\n                this._interactionManager.particlesInteract(particle, delta);\n            }\n        }\n        delete this._resizeFactor;\n        if (this._needsSort) {\n            const zArray = this._zArray;\n            zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n            const lengthOffset = 1;\n            this._lastZIndex = zArray[zArray.length - lengthOffset].position.z;\n            this._needsSort = false;\n        }\n    }\n}\n","import { getRangeValue } from \"../Utils/NumberUtils.js\";\nimport { isSsr } from \"../Utils/Utils.js\";\nconst defaultRatio = 1, defaultReduceFactor = 1;\nexport class Retina {\n    constructor(container) {\n        this.container = container;\n        this.pixelRatio = defaultRatio;\n        this.reduceFactor = defaultReduceFactor;\n    }\n    init() {\n        const container = this.container, options = container.actualOptions;\n        this.pixelRatio = !options.detectRetina || isSsr() ? defaultRatio : window.devicePixelRatio;\n        this.reduceFactor = defaultReduceFactor;\n        const ratio = this.pixelRatio, canvas = container.canvas;\n        if (canvas.element) {\n            const element = canvas.element;\n            canvas.size.width = element.offsetWidth * ratio;\n            canvas.size.height = element.offsetHeight * ratio;\n        }\n        const particles = options.particles, moveOptions = particles.move;\n        this.maxSpeed = getRangeValue(moveOptions.gravity.maxSpeed) * ratio;\n        this.sizeAnimationSpeed = getRangeValue(particles.size.animation.speed) * ratio;\n    }\n    initParticle(particle) {\n        const options = particle.options, ratio = this.pixelRatio, moveOptions = options.move, moveDistance = moveOptions.distance, props = particle.retina;\n        props.moveDrift = getRangeValue(moveOptions.drift) * ratio;\n        props.moveSpeed = getRangeValue(moveOptions.speed) * ratio;\n        props.sizeAnimationSpeed = getRangeValue(options.size.animation.speed) * ratio;\n        const maxDistance = props.maxDistance;\n        maxDistance.horizontal = moveDistance.horizontal !== undefined ? moveDistance.horizontal * ratio : undefined;\n        maxDistance.vertical = moveDistance.vertical !== undefined ? moveDistance.vertical * ratio : undefined;\n        props.maxSpeed = getRangeValue(moveOptions.gravity.maxSpeed) * ratio;\n    }\n}\n","import { errorPrefix, millisecondsToSeconds } from \"./Utils/Constants.js\";\nimport { getLogger, safeIntersectionObserver } from \"../Utils/Utils.js\";\nimport { Canvas } from \"./Canvas.js\";\nimport { EventListeners } from \"./Utils/EventListeners.js\";\nimport { Options } from \"../Options/Classes/Options.js\";\nimport { Particles } from \"./Particles.js\";\nimport { Retina } from \"./Retina.js\";\nimport { getRangeValue } from \"../Utils/NumberUtils.js\";\nimport { loadOptions } from \"../Utils/OptionsUtils.js\";\nfunction guardCheck(container) {\n    return container && !container.destroyed;\n}\nconst defaultFps = 60;\nfunction initDelta(value, fpsLimit = defaultFps, smooth = false) {\n    return {\n        value,\n        factor: smooth ? defaultFps / fpsLimit : (defaultFps * value) / millisecondsToSeconds,\n    };\n}\nfunction loadContainerOptions(engine, container, ...sourceOptionsArr) {\n    const options = new Options(engine, container);\n    loadOptions(options, ...sourceOptionsArr);\n    return options;\n}\nexport class Container {\n    constructor(engine, id, sourceOptions) {\n        this._intersectionManager = (entries) => {\n            if (!guardCheck(this) || !this.actualOptions.pauseOnOutsideViewport) {\n                return;\n            }\n            for (const entry of entries) {\n                if (entry.target !== this.interactivity.element) {\n                    continue;\n                }\n                if (entry.isIntersecting) {\n                    void this.play();\n                }\n                else {\n                    this.pause();\n                }\n            }\n        };\n        this._nextFrame = (timestamp) => {\n            try {\n                if (!this._smooth &&\n                    this._lastFrameTime !== undefined &&\n                    timestamp < this._lastFrameTime + millisecondsToSeconds / this.fpsLimit) {\n                    this.draw(false);\n                    return;\n                }\n                this._lastFrameTime ??= timestamp;\n                const delta = initDelta(timestamp - this._lastFrameTime, this.fpsLimit, this._smooth);\n                this.addLifeTime(delta.value);\n                this._lastFrameTime = timestamp;\n                if (delta.value > millisecondsToSeconds) {\n                    this.draw(false);\n                    return;\n                }\n                this.particles.draw(delta);\n                if (!this.alive()) {\n                    this.destroy();\n                    return;\n                }\n                if (this.animationStatus) {\n                    this.draw(false);\n                }\n            }\n            catch (e) {\n                getLogger().error(`${errorPrefix} in animation loop`, e);\n            }\n        };\n        this._engine = engine;\n        this.id = Symbol(id);\n        this.fpsLimit = 120;\n        this._smooth = false;\n        this._delay = 0;\n        this._duration = 0;\n        this._lifeTime = 0;\n        this._firstStart = true;\n        this.started = false;\n        this.destroyed = false;\n        this._paused = true;\n        this._lastFrameTime = 0;\n        this.zLayers = 100;\n        this.pageHidden = false;\n        this._sourceOptions = sourceOptions;\n        this._initialSourceOptions = sourceOptions;\n        this.retina = new Retina(this);\n        this.canvas = new Canvas(this);\n        this.particles = new Particles(this._engine, this);\n        this.pathGenerators = new Map();\n        this.interactivity = {\n            mouse: {\n                clicking: false,\n                inside: false,\n            },\n        };\n        this.plugins = new Map();\n        this.effectDrawers = new Map();\n        this.shapeDrawers = new Map();\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this);\n        this._eventListeners = new EventListeners(this);\n        this._intersectionObserver = safeIntersectionObserver((entries) => this._intersectionManager(entries));\n        this._engine.dispatchEvent(\"containerBuilt\", { container: this });\n    }\n    get animationStatus() {\n        return !this._paused && !this.pageHidden && guardCheck(this);\n    }\n    get options() {\n        return this._options;\n    }\n    get sourceOptions() {\n        return this._sourceOptions;\n    }\n    addClickHandler(callback) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const el = this.interactivity.element;\n        if (!el) {\n            return;\n        }\n        const clickOrTouchHandler = (e, pos, radius) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const pxRatio = this.retina.pixelRatio, posRetina = {\n                x: pos.x * pxRatio,\n                y: pos.y * pxRatio,\n            }, particles = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n            callback(e, particles);\n        };\n        const clickHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const mouseEvent = e, pos = {\n                x: mouseEvent.offsetX || mouseEvent.clientX,\n                y: mouseEvent.offsetY || mouseEvent.clientY,\n            }, radius = 1;\n            clickOrTouchHandler(e, pos, radius);\n        };\n        const touchStartHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = true;\n            touchMoved = false;\n        };\n        const touchMoveHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touchMoved = true;\n        };\n        const touchEndHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            if (touched && !touchMoved) {\n                const touchEvent = e;\n                const lengthOffset = 1;\n                let lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset];\n                if (!lastTouch) {\n                    lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - lengthOffset];\n                    if (!lastTouch) {\n                        return;\n                    }\n                }\n                const element = this.canvas.element, canvasRect = element ? element.getBoundingClientRect() : undefined, minCoordinate = 0, pos = {\n                    x: lastTouch.clientX - (canvasRect ? canvasRect.left : minCoordinate),\n                    y: lastTouch.clientY - (canvasRect ? canvasRect.top : minCoordinate),\n                };\n                clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        const touchCancelHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        let touched = false, touchMoved = false;\n        el.addEventListener(\"click\", clickHandler);\n        el.addEventListener(\"touchstart\", touchStartHandler);\n        el.addEventListener(\"touchmove\", touchMoveHandler);\n        el.addEventListener(\"touchend\", touchEndHandler);\n        el.addEventListener(\"touchcancel\", touchCancelHandler);\n    }\n    addLifeTime(value) {\n        this._lifeTime += value;\n    }\n    addPath(key, generator, override = false) {\n        if (!guardCheck(this) || (!override && this.pathGenerators.has(key))) {\n            return false;\n        }\n        this.pathGenerators.set(key, generator);\n        return true;\n    }\n    alive() {\n        return !this._duration || this._lifeTime <= this._duration;\n    }\n    destroy() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        this.particles.destroy();\n        this.canvas.destroy();\n        for (const [, effectDrawer] of this.effectDrawers) {\n            effectDrawer.destroy?.(this);\n        }\n        for (const [, shapeDrawer] of this.shapeDrawers) {\n            shapeDrawer.destroy?.(this);\n        }\n        for (const key of this.effectDrawers.keys()) {\n            this.effectDrawers.delete(key);\n        }\n        for (const key of this.shapeDrawers.keys()) {\n            this.shapeDrawers.delete(key);\n        }\n        this._engine.clearPlugins(this);\n        this.destroyed = true;\n        const mainArr = this._engine.dom(), idx = mainArr.findIndex((t) => t === this), minIndex = 0;\n        if (idx >= minIndex) {\n            const deleteCount = 1;\n            mainArr.splice(idx, deleteCount);\n        }\n        this._engine.dispatchEvent(\"containerDestroyed\", { container: this });\n    }\n    draw(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        let refreshTime = force;\n        const frame = (timestamp) => {\n            if (refreshTime) {\n                this._lastFrameTime = undefined;\n                refreshTime = false;\n            }\n            this._nextFrame(timestamp);\n        };\n        this._drawAnimationFrame = requestAnimationFrame((timestamp) => frame(timestamp));\n    }\n    async export(type, options = {}) {\n        for (const [, plugin] of this.plugins) {\n            if (!plugin.export) {\n                continue;\n            }\n            const res = await plugin.export(type, options);\n            if (!res.supported) {\n                continue;\n            }\n            return res.blob;\n        }\n        getLogger().error(`${errorPrefix} - Export plugin with type ${type} not found`);\n    }\n    handleClickMode(mode) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.particles.handleClickMode(mode);\n        for (const [, plugin] of this.plugins) {\n            plugin.handleClickMode?.(mode);\n        }\n    }\n    async init() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const effects = this._engine.getSupportedEffects();\n        for (const type of effects) {\n            const drawer = this._engine.getEffectDrawer(type);\n            if (drawer) {\n                this.effectDrawers.set(type, drawer);\n            }\n        }\n        const shapes = this._engine.getSupportedShapes();\n        for (const type of shapes) {\n            const drawer = this._engine.getShapeDrawer(type);\n            if (drawer) {\n                this.shapeDrawers.set(type, drawer);\n            }\n        }\n        await this.particles.initPlugins();\n        this._options = loadContainerOptions(this._engine, this, this._initialSourceOptions, this.sourceOptions);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        const availablePlugins = await this._engine.getAvailablePlugins(this);\n        for (const [id, plugin] of availablePlugins) {\n            this.plugins.set(id, plugin);\n        }\n        this.retina.init();\n        await this.canvas.init();\n        this.updateActualOptions();\n        this.canvas.initBackground();\n        this.canvas.resize();\n        this.zLayers = this.actualOptions.zLayers;\n        this._duration = getRangeValue(this.actualOptions.duration) * millisecondsToSeconds;\n        this._delay = getRangeValue(this.actualOptions.delay) * millisecondsToSeconds;\n        this._lifeTime = 0;\n        const defaultFpsLimit = 120, minFpsLimit = 0;\n        this.fpsLimit = this.actualOptions.fpsLimit > minFpsLimit ? this.actualOptions.fpsLimit : defaultFpsLimit;\n        this._smooth = this.actualOptions.smooth;\n        for (const [, drawer] of this.effectDrawers) {\n            await drawer.init?.(this);\n        }\n        for (const [, drawer] of this.shapeDrawers) {\n            await drawer.init?.(this);\n        }\n        for (const [, plugin] of this.plugins) {\n            await plugin.init?.();\n        }\n        this._engine.dispatchEvent(\"containerInit\", { container: this });\n        await this.particles.init();\n        this.particles.setDensity();\n        for (const [, plugin] of this.plugins) {\n            plugin.particlesSetup?.();\n        }\n        this._engine.dispatchEvent(\"particlesSetup\", { container: this });\n    }\n    async loadTheme(name) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._currentTheme = name;\n        await this.refresh();\n    }\n    pause() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        if (this._drawAnimationFrame !== undefined) {\n            cancelAnimationFrame(this._drawAnimationFrame);\n            delete this._drawAnimationFrame;\n        }\n        if (this._paused) {\n            return;\n        }\n        for (const [, plugin] of this.plugins) {\n            plugin.pause?.();\n        }\n        if (!this.pageHidden) {\n            this._paused = true;\n        }\n        this._engine.dispatchEvent(\"containerPaused\", { container: this });\n    }\n    play(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const needsUpdate = this._paused || force;\n        if (this._firstStart && !this.actualOptions.autoPlay) {\n            this._firstStart = false;\n            return;\n        }\n        if (this._paused) {\n            this._paused = false;\n        }\n        if (needsUpdate) {\n            for (const [, plugin] of this.plugins) {\n                if (plugin.play) {\n                    plugin.play();\n                }\n            }\n        }\n        this._engine.dispatchEvent(\"containerPlay\", { container: this });\n        this.draw(needsUpdate ?? false);\n    }\n    async refresh() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        return this.start();\n    }\n    async reset() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._initialSourceOptions = undefined;\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        return this.refresh();\n    }\n    async start() {\n        if (!guardCheck(this) || this.started) {\n            return;\n        }\n        await this.init();\n        this.started = true;\n        await new Promise((resolve) => {\n            const start = async () => {\n                this._eventListeners.addListeners();\n                if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n                    this._intersectionObserver.observe(this.interactivity.element);\n                }\n                for (const [, plugin] of this.plugins) {\n                    await plugin.start?.();\n                }\n                this._engine.dispatchEvent(\"containerStarted\", { container: this });\n                this.play();\n                resolve();\n            };\n            this._delayTimeout = setTimeout(() => void start(), this._delay);\n        });\n    }\n    stop() {\n        if (!guardCheck(this) || !this.started) {\n            return;\n        }\n        if (this._delayTimeout) {\n            clearTimeout(this._delayTimeout);\n            delete this._delayTimeout;\n        }\n        this._firstStart = true;\n        this.started = false;\n        this._eventListeners.removeListeners();\n        this.pause();\n        this.particles.clear();\n        this.canvas.stop();\n        if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n            this._intersectionObserver.unobserve(this.interactivity.element);\n        }\n        for (const [, plugin] of this.plugins) {\n            plugin.stop?.();\n        }\n        for (const key of this.plugins.keys()) {\n            this.plugins.delete(key);\n        }\n        this._sourceOptions = this._options;\n        this._engine.dispatchEvent(\"containerStopped\", { container: this });\n    }\n    updateActualOptions() {\n        this.actualOptions.responsive = [];\n        const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n        this.actualOptions.setTheme(this._currentTheme);\n        if (this._responsiveMaxWidth === newMaxWidth) {\n            return false;\n        }\n        this._responsiveMaxWidth = newMaxWidth;\n        return true;\n    }\n}\n"],"names":["setTransformValue","factor","newFactor","key","newValue","undefined","setStyle","canvas","style","important","element","elementStyle","value","setProperty","Canvas","container","this","_applyPostDrawUpdaters","particle","_postDrawUpdaters","updater","afterDraw","_applyPreDrawUpdaters","ctx","radius","zOpacity","colorStyles","transform","_preDrawUpdaters","getColorStyles","fill","stroke","getTransformValues","updaterTransform","beforeDraw","_applyResizePlugins","_resizePlugins","plugin","resize","_getPluginParticleColors","fColor","sColor","_colorPlugins","particleFillColor","rangeColorToHsl","particleStrokeColor","_initCover","options","actualOptions","cover","backgroundMask","color","coverRgb","rangeColorToRgb","coverColor","a","opacity","_coverColorStyle","getStyleFromRgb","Promise","resolve","reject","image","img","document","createElement","addEventListener","_coverImage","evt","error","src","_initStyle","_fullScreen","_originalStyle","deepExtend","_setFullScreenStyle","_resetOriginalStyle","_initTrail","trail","particles","move","trailFill","enable","length","fillColor","_trailFill","_paintBase","baseColor","draw","paintBase","size","_paintImage","paintImage","_repairStyle","_safeMutationObserver","observer","disconnect","initBackground","observe","attributes","originalStyle","callback","_mutationObserver","position","zIndex","fullScreen","toString","top","left","width","height","_context","_generated","paint","clear","stop","remove","cb","delta","spawning","destroyed","getRadius","pfColor","getFillColor","psColor","getStrokeColor","zIndexOptions","zIndexFactor","zOpacityFactor","opacityRate","bubble","zStrokeOpacity","strokeOpacity","getStyleFromHsl","drawParticle","context","composite","sizeRate","shadow","drawParticlePlugin","drawPlugin","obs","safeMutationObserver","records","record","type","attributeName","getLogger","initUpdaters","initPlugins","background","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","repeat","backgroundSize","plugins","push","updaters","dataset","generatedAttribute","ariaHidden","offsetHeight","offsetWidth","getContext","retina","init","pxRatio","pixelRatio","newSize","oldSize","started","setResizeFactor","needsRefresh","updateActualOptions","setDensity","refresh","manageListener","event","handler","add","addOptions","passive","isBoolean","capture","removeOptions","removeEventListener","EventListeners","_doMouseTouchClick","e","_canPush","mouseInteractivity","interactivity","mouse","mousePos","clickPosition","clickTime","Date","getTime","onClick","events","executeOnSingleOrMultiple","mode","handleClickMode","setTimeout","_mouseTouchFinish","_handleThemeChange","mediaEvent","defaultThemes","themeName","matches","dark","light","theme","themes","find","name","default","auto","loadTheme","_handleVisibilityChange","pauseOnBlur","hidden","pageHidden","pause","animationStatus","play","_handleWindowResize","_resizeTimeout","clearTimeout","handleResize","windowResize","delay","millisecondsToSeconds","_manageInteractivityListeners","mouseLeaveTmpEvent","handlers","_handlers","interactivityEl","html","canvasEl","pointerEvents","onHover","mouseMoveEvent","mouseMove","touchStartEvent","touchStart","touchMoveEvent","touchMove","touchEndEvent","touchEndClick","mouseUpEvent","mouseUp","mouseDownEvent","mouseDown","touchEnd","mouseLeave","touchCancelEvent","touchCancel","_manageListeners","detectType","detectsOn","mouseLeaveEvent","window","mouseOutEvent","parentElement","parentNode","_manageMediaMatch","_manageResize","visibilityChangeEvent","visibilityChange","mediaMatch","safeMatchMedia","addListener","oldThemeChange","removeListener","themeChange","ResizeObserver","_resizeObserver","unobserve","entries","target","resizeEvent","_mouseDown","clicking","downPosition","_mouseTouchClick","inside","handled","mousePosition","clickPositionValid","status","_mouseTouchMove","pos","startsWith","mouseEvent","clientRect","getBoundingClientRect","x","clientX","y","clientY","source","currentTarget","sourceRect","targetRect","canvasRect","offsetX","offsetY","touchEvent","lastTouch","touches","_touchEnd","Array","from","changedTouches","touch","_touches","delete","identifier","_touchEndClick","_touchStart","set","performance","now","Map","InteractionManager","engine","_engine","_interactors","_externalInteractors","_particleInteractors","interactor","isEnabled","interact","getInteractors","reset","half","fixOutMode","data","isInArray","outMode","checkModes","diameter","coord","maxCoord","setCb","Particle","_calcPosition","tryCount","pluginPos","particlePosition","Vector3d","canvasSize","exactPosition","calcExactPositionOrRandomFromSize","outModes","fixHorizontal","fixVertical","right","bottom","_checkOverlap","increment","_calculateVelocity","res","getParticleBaseVelocity","direction","copy","moveOptions","rad","degToRad","getRangeValue","angle","radOffset","offset","range","straight","randomInRange","setRangeValue","random","speed","getRandom","collisionsOptions","collisions","overlapOptions","overlap","retries","minRetries","Error","errorPrefix","getDistance","_getRollColor","roll","backColor","alter","backFactor","horizontal","vertical","double","backSum","Math","PI","floor","alterHsl","_initPosition","zIndexValue","clamp","zLayers","initialPosition","moveCenter","getPosition","center","getParticleDirectionAngle","outType","Vector","override","unbreakable","inRange","slow","pathGenerator","shapeDrawer","shapeDrawers","get","shape","particleDestroy","particleDestroyed","dispatchEvent","getHslFromAnimation","z","strokeColor","id","overrideOptions","group","effectClose","effectFill","shapeClose","shapeFill","pathRotation","lastPathTime","rotation","misplaced","maxDistance","ignoresResizeRatio","mainOptions","particlesOptions","loadParticlesOptions","effectType","effect","shapeType","reduceDuplicates","itemFromSingleOrMultiple","effectOptions","shapeOptions","overrideEffectType","load","overrideShapeType","effectData","close","loadEffectData","shapeData","loadShapeData","Interactivity","pathOptions","path","pathDelay","generator","getPathGenerator","addPath","initParticle","initParticleNumericAnimationValue","initialVelocity","velocity","moveDecay","decay","setLastZIndex","sides","effectDrawer","effectDrawers","getEffectDrawer","loadEffect","getShapeDrawer","loadShape","sideCountFunc","getSidesCount","shadowColor","movers","mover","particleInit","particleCreated","isInsideCanvas","Point","QuadTree","rectangle","capacity","_subdivide","i","fixedIndex","_subs","Rectangle","round","_divided","_points","point","contains","some","sub","insert","check","intersects","p","query","Circle","qTreeRectangle","Particles","_addToPool","_pool","_applyDensity","manualCount","numberOptions","number","density","densityFactor","_initDensityFactor","optParticlesNumber","optParticlesLimit","limit","particlesNumber","min","particlesCount","count","filter","t","_limit","_groupLimits","abs","removeQuantity","densityOptions","_container","_pushParticle","initializer","pop","_nextId","canAdd","_array","_zArray","warning","_removeParticle","index","zIdx","indexOf","splice","destroy","_needsSort","_lastZIndex","_interactionManager","_pluginsInitialized","quadTree","manualParticles","addParticle","limitOptions","currentCount","countToRemove","update","condition","particlesInitialization","addManualParticles","groups","groupOptions","j","getMovers","getUpdaters","pathGenerators","nb","removeAt","quantity","minIndex","deleted","_resizeFactor","particlesToDelete","Set","resizeFactor","particleUpdate","checkDelete","has","externalInteract","particlesInteract","zArray","sort","b","Retina","reduceFactor","detectRetina","isSsr","devicePixelRatio","ratio","maxSpeed","gravity","sizeAnimationSpeed","animation","moveDistance","distance","props","moveDrift","drift","moveSpeed","guardCheck","defaultFps","loadContainerOptions","Options","sourceOptionsArr","loadOptions","Container","sourceOptions","_intersectionManager","pauseOnOutsideViewport","entry","isIntersecting","_nextFrame","timestamp","_smooth","_lastFrameTime","fpsLimit","initDelta","addLifeTime","alive","Symbol","_delay","_duration","_lifeTime","_firstStart","_paused","_sourceOptions","_initialSourceOptions","_options","_eventListeners","_intersectionObserver","safeIntersectionObserver","el","clickOrTouchHandler","posRetina","queryCircle","touched","touchMoved","max","radiusX","radiusY","keys","clearPlugins","mainArr","dom","idx","findIndex","force","refreshTime","_drawAnimationFrame","requestAnimationFrame","frame","export","supported","blob","effects","getSupportedEffects","drawer","shapes","getSupportedShapes","getAvailablePlugins","availablePlugins","duration","smooth","particlesSetup","_currentTheme","cancelAnimationFrame","needsUpdate","autoPlay","start","addListeners","HTMLElement","_delayTimeout","removeListeners","responsive","newMaxWidth","setResponsive","setTheme","_responsiveMaxWidth"],"sourceRoot":""}